<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextArea?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.ColumnConstraints?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.RowConstraints?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>

<AnchorPane fx:id="productManagementPane" prefHeight="700.0" prefWidth="950.0" style="-fx-background-color: #EBF8FF;" xmlns="http://javafx.com/javafx/17" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.example.stores.controller.ProductManagementController">
    <children>
        <VBox spacing="15.0" AnchorPane.bottomAnchor="10.0" AnchorPane.leftAnchor="10.0" AnchorPane.rightAnchor="10.0" AnchorPane.topAnchor="10.0">
            <children>
                <Label text="%product.management.title" textFill="#2C5282"> <!-- KEY -->
                    <font>
                        <Font name="System Bold" size="24.0" />
                    </font>
                </Label>
                <HBox spacing="10.0">
                    <children>
                        <Button fx:id="btnAddProduct" mnemonicParsing="false" onAction="#handleAddProductAction" style="-fx-background-color: #48BB78; -fx-text-fill: white; -fx-font-weight: bold;" text="%button.addProduct" /> <!-- KEY -->
                        <Button fx:id="btnUpdateProduct" mnemonicParsing="false" onAction="#handleUpdateProductAction" style="-fx-background-color: #4299E1; -fx-text-fill: white; -fx-font-weight: bold;" text="%button.updateProduct" /> <!-- KEY -->
                        <Button fx:id="btnDeleteProduct" mnemonicParsing="false" onAction="#handleDeleteProductAction" style="-fx-background-color: #F56565; -fx-text-fill: white; -fx-font-weight: bold;" text="%button.deleteProduct" /> <!-- KEY -->
                        <Button fx:id="btnClearForm" mnemonicParsing="false" onAction="#handleClearFormAction" text="%button.clearForm" /> <!-- KEY -->
                        <!-- <Button fx:id="btnExportExcelProducts" text="%button.exportExcel" /> --> <!-- KEY (nếu có) -->
                    </children>
                </HBox>
                <GridPane hgap="15.0" vgap="10.0">
                    <columnConstraints>
                        <ColumnConstraints hgrow="SOMETIMES" minWidth="10.0" prefWidth="180.0" /> <!-- Ảnh -->
                        <ColumnConstraints halignment="RIGHT" hgrow="SOMETIMES" minWidth="10.0" prefWidth="100.0" /> <!-- Labels -->
                        <ColumnConstraints hgrow="SOMETIMES" minWidth="10.0" prefWidth="250.0" /> <!-- Controls -->
                        <ColumnConstraints halignment="RIGHT" hgrow="SOMETIMES" minWidth="10.0" prefWidth="100.0" /> <!-- Labels -->
                        <ColumnConstraints hgrow="SOMETIMES" minWidth="10.0" prefWidth="250.0" /> <!-- Controls -->
                    </columnConstraints>
                    <rowConstraints>
                        <RowConstraints minHeight="10.0" prefHeight="30.0" vgrow="SOMETIMES" />
                        <RowConstraints minHeight="10.0" prefHeight="30.0" vgrow="SOMETIMES" />
                        <RowConstraints minHeight="10.0" prefHeight="30.0" vgrow="SOMETIMES" />
                        <RowConstraints minHeight="10.0" prefHeight="60.0" vgrow="SOMETIMES" />
                    </rowConstraints>
                    <children>
                        <VBox alignment="TOP_CENTER" spacing="5.0" GridPane.columnIndex="0" GridPane.rowSpan="4">
                            <children>
                                <Label text="%label.productPhoto" /> <!-- KEY -->
                                <ImageView fx:id="imgProductPhoto" fitHeight="150.0" fitWidth="150.0" pickOnBounds="true" preserveRatio="true" style="-fx-border-color: #A0AEC0; -fx-border-width: 1px;" />
                                <Button fx:id="btnChangeProductImage" mnemonicParsing="false" onAction="#handleChangeProductImageAction" text="%button.changePhoto" /> <!-- KEY -->
                            </children>
                        </VBox>

                        <Label text="%label.productId" GridPane.columnIndex="1" /> <!-- KEY -->
                        <TextField fx:id="txtProductID" editable="false" promptText="%prompt.autoGenerated" style="-fx-background-color: #E2E8F0;" GridPane.columnIndex="2" /> <!-- KEY -->

                        <Label text="%label.productName" GridPane.columnIndex="3" /> <!-- KEY -->
                        <TextField fx:id="txtProductName" promptText="%prompt.productName" GridPane.columnIndex="4" /> <!-- KEY -->

                        <Label text="%label.category" GridPane.columnIndex="1" GridPane.rowIndex="1" /> <!-- KEY -->
                        <ComboBox fx:id="cmbCategory" prefWidth="250.0" promptText="%prompt.selectCategory" GridPane.columnIndex="2" GridPane.rowIndex="1" /> <!-- KEY -->

                        <Label text="%label.price" GridPane.columnIndex="3" GridPane.rowIndex="1" /> <!-- KEY -->
                        <TextField fx:id="txtPrice" promptText="%prompt.price" GridPane.columnIndex="4" GridPane.rowIndex="1" /> <!-- KEY -->

                        <Label text="%label.priceCost" GridPane.columnIndex="1" GridPane.rowIndex="2" /> <!-- KEY -->
                        <TextField fx:id="txtPriceCost" promptText="%prompt.priceCost" GridPane.columnIndex="2" GridPane.rowIndex="2" /> <!-- KEY -->

                        <Label text="%label.quantity" GridPane.columnIndex="3" GridPane.rowIndex="2" /> <!-- KEY -->
                        <TextField fx:id="txtQuantity" promptText="%prompt.quantity" GridPane.columnIndex="4" GridPane.rowIndex="2" /> <!-- KEY -->

                        <Label text="%label.description" GridPane.columnIndex="1" GridPane.rowIndex="3" GridPane.valignment="TOP" /> <!-- KEY -->
                        <TextArea fx:id="txtDescription" prefHeight="50.0" wrapText="true" promptText="%prompt.description" GridPane.columnIndex="2" GridPane.columnSpan="3" GridPane.rowIndex="3" /> <!-- KEY -->
                    </children>
                </GridPane>
                <HBox alignment="CENTER_LEFT" spacing="10.0">
                    <children>
                        <TextField fx:id="txtSearchProductKeyword" prefWidth="300.0" promptText="%search.prompt.product" /> <!-- KEY -->
                        <Button fx:id="btnSearchProduct" mnemonicParsing="false" onAction="#handleSearchProductAction" text="%button.search" /> <!-- KEY -->
                        <Label text="%label.filterByCategory" /> <!-- KEY -->
                        <ComboBox fx:id="cmbFilterCategory" prefWidth="200.0" promptText="%prompt.allCategories" /> <!-- KEY -->
                        <Button fx:id="btnRefreshProductTable" mnemonicParsing="false" onAction="#handleRefreshProductTableAction" text="%button.refreshTable" /> <!-- KEY -->
                    </children>
                </HBox>
                <TableView fx:id="productTableView" prefHeight="300.0" VBox.vgrow="ALWAYS">
                    <columns>
                        <TableColumn fx:id="colProductID" prefWidth="100.0" text="%table.col.productId" /> <!-- KEY -->
                        <TableColumn fx:id="colProductName" prefWidth="200.0" text="%table.col.productName" /> <!-- KEY -->
                        <TableColumn fx:id="colCategoryName" prefWidth="150.0" text="%table.col.category" /> <!-- KEY -->
                        <TableColumn fx:id="colPrice" prefWidth="100.0" text="%table.col.price" /> <!-- KEY -->
                        <TableColumn fx:id="colPriceCost" prefWidth="100.0" text="%table.col.priceCost" /> <!-- KEY -->
                        <TableColumn fx:id="colQuantity" prefWidth="75.0" text="%table.col.quantity" /> <!-- KEY -->
                        <TableColumn fx:id="colStatus" prefWidth="100.0" text="%table.col.status" /> <!-- KEY -->
                    </columns>
                    <columnResizePolicy><TableView fx:constant="CONSTRAINED_RESIZE_POLICY" /></columnResizePolicy>
                    <placeholder><Label text="%table.placeholder.noProducts" /></placeholder> <!-- KEY -->
                </TableView>
            </children>
        </VBox>
    </children>
</AnchorPane>